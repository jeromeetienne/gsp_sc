---
marp: true
theme: marpit-theme
---

# GSP Technical Debt

---

# Table of Contents

1. What is Technical Debt?
2. Current Technical Debt
3. How to Address Technical Debt?

---

# Technical Debt ?
## Part 1

---

## When Does it Happen ?

> "When past choices are no more suitable for current needs"

- When it is early in the project and requirements are still unclear
- When motivation/skill is lacking to do it properly
- When a quick solution is chosen to meet a deadline

---

## What is the Cost ?

- It slows down progress
- It increases the risk of bugs
- It makes the code harder to understand and maintain

---

## For Libraries Specific Case

### It repels potential contributors
- "No to messy code"
- "No to lack of tests"

### For those who decide to contribute ?
- It slows down their onboarding

---

# Current Technical Debt
## Part 2

---

- TODO here put all the bugs you remember
- be nice and always do it softly
- do not blame anyone, it is not personal
- it is just a fact, nobody is perfect, we all do mistakes

---

## List of Known Issues
- no notion of camera
- serialisation is based on "eval" which is a security issue
- massive amount of undefined symbol -> proove the code never got executed
- even the most basic, aka generating command doesnt work. it never worked. it is not buggy as in doesnt work as expected, the code is just not there. no ./examples
- add the len(on transform) in most constructor
- Light is never used, Data is never used -> commited but never ran
- transform are assuming object to be sorted, so they are sorted at every render, even if no transform is here
- no `vec1` so how to encode indices or size etc... doesnt go thru the same path
- Buffer is not a "array of byte". it has a shape and a dtype. this is ndarray
- tracked doesnt even contains serialisation - as in delta encoding. do not believe it is easy, i had to reimplement it 3 times before getting it right. 
- commands are too black magic, just creating a temporary array will duplicate the data over the network - the commands generated by decorator will always have this issue - viewport.add(visual) explicit + scene graph API would fix this
- talk about bug 14 and how fast we are progressing over this
- numpy advices against subtyping it and say it is dangerous (find the link). TODO count how many
- now we got test for the whole pipeline

---


# How to Address It ?
## Part 3

---

## Diagnose the issues
- is the code widely used ?
- is it behaving as expected ? (aka is it well tested ?)
- how large is the code ?
- how complex is the code ?
- how well is it documented ?
- which parts is affected and how large is it compared to the rest ?

## Possible strategies
- refactor it incrementally
- rewrite it from scratch

## How to reduce it in the future ?

---
# Notes
- We lost controls, nobody understand this code, if the code was large or if a lot of people were depending on it, reimplementation would not be possible
- what are the possible engineering strategy when you face such a problem ? reimplementation is reasonable. it is a small project for now, the base we got is fragile and doesn't do much. keeping it as a base will slow down progress. 
---

# Conclusion

---

- better catch it early